<!-- This will be rendered dynamically -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Reset Password</title>
  <link rel="icon" href="/Images/calicare logo.png" type="image/x-icon">
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background-color: #EBFAFB;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }

    .container {
      /* background: white; */
      background-color: rgba(130, 236, 236, 0.3); ;
      padding: 40px 30px;
      border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      text-align: center;
      width: 100vw;
      max-width: 400px;
    }
    .mask{
        position: fixed;    
        top: 0;
        left: 0;
        z-index: -1;
        width: 100px;
        height:150px;
    }

    h2 {
      margin-bottom: 20px;
      color: #333;
    }

    input[type="password"] {
      padding: 12px 15px;
      width: 90%;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-bottom: 20px;
      font-size: 16px;
    }

    button {
      padding: 12px 20px;
      width: 100%;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
        background: #218838;
    }

    a {
      display: inline-block;
      margin-top: 20px;
      color: #218838;
      text-decoration: none;
    }

    a:hover {
      text-decoration: underline;
    }
    .mask{
        position: fixed;    
        top: 0;
        left: 0;
        z-index: -1;
        width: 100px;
        height:150px;
    }
  </style>
</head>
<body>
  <img class="mask" src="/Images/mask.png" alt="">
  <div class="container">
    <h2>Reset Password</h2>
    <form action="/reset-password/{{token}}" method="POST"><br> 
      <input type="password" name="password" placeholder="New password" required />
      <button type="submit">Update Password</button>
    </form>
  </div>
    <script src="/app-setting.js"></script>


  <!-- Google Translate Element -->
<!-- <div id="google_translate_element"></div> -->

<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement(
      {
        pageLanguage: 'en',
        includedLanguages:
          'en,af,fr,es,yo,ha,ig,zh,zh-CN,ar,hi,pt,ru,ja,de,ko,it,vi,tr,id,sw,pl,nl,th,el,he,fa,ms,bn,ur,ta,te,mr,gu,pa,uk,ro,da,sv,no,fi,hu,cs,ca,hr,sr,bg,sk,zu,xh,am,so,om,mg,ne,si,ku,kk,uz,my,km,lo,bo,mn',
        layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL
      },
      'google_translate_element'
    );
  }
</script>

<script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
<script>
  // Get cookie helper
  function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
  }

  // Apply saved language after page load
  function applySavedLanguage() {
    const savedLang = localStorage.getItem('preferredLanguage');
    if (savedLang) {
      const cookieLang = getCookie('googtrans');
      if (!cookieLang || !cookieLang.includes(savedLang)) {
        document.cookie = `googtrans=/auto/${savedLang};path=/`;
        document.cookie = `googtrans=/auto/${savedLang};domain=.${window.location.hostname};path=/`;
        location.reload(); // reload page with translation applied
      }
    }
  }

  // Save selected language when user changes it
  function observeLanguageChange() {
    const observer = new MutationObserver(() => {
      const cookieLang = getCookie('googtrans');
      if (cookieLang) {
        const selectedLang = cookieLang.split('/').pop();
        localStorage.setItem('preferredLanguage', selectedLang);
      }
    });
    observer.observe(document.body, { attributes: true, childList: true, subtree: true });
  }

  window.addEventListener('load', () => {
    setTimeout(() => {
      applySavedLanguage();
      observeLanguageChange();
    }, 2000);
  });
</script>
</body>
</html>
